{"mappings":"AAAA;AAEA,eAAe;IACX,IAAI,UAAU;IACd,MAAM,OAAO,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC;IAC7C,QAAQ,GAAG,CAAC;IAEZ,IAAG,CAAC,QAAQ,CAAC,aAAa,OAAO,CAAC,gBAAgB;QAC9C,MAAM;QACN,SAAS,QAAQ,CAAC,IAAI,GAAG;IAC7B;IACA,IAAI;QACA,MAAM,WAAW,MAAM,MAAM,UAAU,mBAAmB;YACtD,QAAQ;YACR,SAAS;gBACL,gBAAgB;YACpB;YACA,MAAM,KAAK,SAAS,CAAC;gBAAE,UAAS,KAAK,QAAQ;gBAAE,UAAS,KAAK,QAAQ;YAAC;QAC1E;QAEA,IAAI,CAAC,SAAS,EAAE,EACZ,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,SAAS,MAAM,CAAC,CAAC;QAG5D,MAAM,SAAS,MAAM,SAAS,IAAI,IAAI,6BAA6B;QACnE,QAAQ,GAAG,CAAC;QAEZ,IAAI,OAAO,KAAK;aACT;YACH,IAAG,OAAO,YAAY,IAAI,OAAO,IAAI,CAAC,cAAc,EAAE;gBAClD,MAAM;gBACN,SAAS,QAAQ,CAAC,IAAI,GAAG;YAC7B;YACA,0BAA0B;YAC1B,SAAS,aAAa,CAAC,QAAQ,WAAW,GAAG,OAAO,IAAI,CAAC,QAAQ;QACrE;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,sCAAsC;QACpD,MAAM;IACV;AACJ;AAEA,MAAM;AACN,eAAe,MAAM,CAAC;IAClB,IAAG,MAAM,GAAG;IACZ,IAAG,CAAC,SAAS,aAAa,CAAC,mCAAmC,MAAM;IACpE,MAAM,mBAAmB,SAAS,aAAa,CAAC,kCAAkC,KAAK;IACvF,MAAM,CAAC,uBAAuB,EAAE,iBAAiB,CAAC;IAClD,aAAa,OAAO,CAAC,WAAW,KAAK,SAAS,CAAC;QAAC,OAAM;IAAgB;IAEtE,gHAAgH;IAChH,qCAAqC;IACrC,iBAAiB;IACjB,0EAA0E;IAC1E,SAAS;IACT,qHAAqH;IACrH,MAAM;IAEN,SAAS,QAAQ,CAAC,IAAI,GAAG;AAC7B","sources":["src/assets/js/mpk.js"],"sourcesContent":["init()\n\nasync function init(){\n    let BASEAPI = \"https://redesigned-lamp-wx969x4q6g6f599x-8080.app.github.dev\"\n    const data = JSON.parse(localStorage.getItem(\"loginObject\"))\n    console.log(data)\n\n    if(!data || !localStorage.getItem(\"loginObject\")) {\n        alert(\"NO USERDATA, REDIRECTING TO LOGIN\")\n        document.location.href = \"./index.html\"\n    }\n    try {\n        const response = await fetch(BASEAPI + \"/api/user/login\", {\n            method: \"POST\", // HTTP method\n            headers: {\n                \"Content-Type\": \"application/json\", // Specify the content type\n            },\n            body: JSON.stringify({ username:data.username, password:data.password }), // Convert the data to a JSON string\n        });\n\n        if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n\n        const result = await response.json(); // Parse the response as JSON\n        console.log(result)\n        \n        if (result.error) {\n        } else {\n            if(result.SudahMemilih || result.user.WaktuPemilihan) {\n                alert(\"Kamu sudah Memilih\")\n                document.location.href = \"./sudahMemilih.html\"\n            }\n            // Handle successful login\n            document.querySelector(\"#usn\").textContent = result.user.username\n        }\n    } catch (error) {\n        console.error(\"An error occurred while logging in\", error);\n        alert(\"An error occurred while logging in. Please try again.\");\n    }\n}\n\nkirim(0)\nasync function kirim(i) {\n    if(i !== 1) return\n    if(!document.querySelector(\"input[name='kandidat']:checked\")) alert(\"Pilihlah 1 kandidat\")\n    const selectedKandidat = document.querySelector(\"input[name='kandidat']:checked\").value;\n    alert(`Kandidat yang dipilih: ${selectedKandidat}`);\n    localStorage.setItem(\"Pilihan\", JSON.stringify({\"MPK\":selectedKandidat}))\n\n    // const response = await fetch(\"https://redesigned-lamp-wx969x4q6g6f599x-8080.app.github.dev/api/user/login\", {\n    //     method: \"POST\", // HTTP method\n    //     headers: {\n    //         \"Content-Type\": \"application/json\", // Specify the content type\n    //     },\n    //     body: JSON.stringify({ username:data.username, password:data.password }), // Convert the data to a JSON string\n    // });\n    \n    document.location.href = \"./osis.html\"\n}"],"names":[],"version":3,"file":"mpk.4affc081.js.map"}