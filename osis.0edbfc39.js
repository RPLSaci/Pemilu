e();async function e(){let e=JSON.parse(localStorage.getItem("loginObject"));if(console.log(e),!e||!localStorage.getItem("loginObject")){alert("NO USERDATA, REDIRECTING TO LOGIN"),document.location.href="./index.html";return}try{let r=await fetch("https://redesigned-lamp-wx969x4q6g6f599x-8080.app.github.dev/api/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username,password:e.password})});if(!r.ok)throw Error(`HTTP error! status: ${r.status}`);let o=await r.json();o.error?(console.error("Login failed: ",o.error),alert("Login failed. Please try again.")):document.querySelector("#usn").textContent=o.user.username}catch(e){console.error("An error occurred while logging in",e),alert("An error occurred while logging in. Please try again.")}}
//# sourceMappingURL=osis.0edbfc39.js.map
