{"mappings":"AC2CA,eAAe,EAAM,CAAC,EAClB,GAAG,AAAM,IAAN,EAAS,OACR,SAAS,aAAa,CAAC,mCAAmC,MAAM,uBACpE,IAAM,EAAmB,SAAS,aAAa,CAAC,kCAAkC,KAAK,CACvF,MAAM,CAAC,uBAAuB,EAAE,EAAiB,CAAC,EAClD,aAAa,OAAO,CAAC,UAAW,KAAK,SAAS,CAAC,CAAC,IAAM,CAAgB,IAUtE,SAAS,QAAQ,CAAC,IAAI,CAAG,aAC7B,CA3DA,AAEA,CAAA,iBAEI,IAAM,EAAO,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,gBAC7C,QAAQ,GAAG,CAAC,GAER,GAAS,aAAa,OAAO,CAAC,iBAC9B,MAAM,qCACN,SAAS,QAAQ,CAAC,IAAI,CAAG,gBAE7B,GAAI,CACA,IAAM,EAAW,MAAM,MAAM,+EAA6B,CACtD,OAAQ,OACR,QAAS,CACL,eAAgB,kBACpB,EACA,KAAM,KAAK,SAAS,CAAC,CAAE,SAAS,EAAK,QAAQ,CAAE,SAAS,EAAK,QAAQ,AAAC,EAC1E,GAEA,GAAI,CAAC,EAAS,EAAE,CACZ,MAAM,AAAI,MAAM,CAAC,oBAAoB,EAAE,EAAS,MAAM,CAAC,CAAC,EAG5D,IAAM,EAAS,MAAM,EAAS,IAAI,GAClC,QAAQ,GAAG,CAAC,GAER,EAAO,KAAK,GAET,CAAA,EAAO,YAAY,EAAI,EAAO,IAAI,CAAC,cAAc,AAAd,IAClC,MAAM,sBACN,SAAS,QAAQ,CAAC,IAAI,CAAG,uBAG7B,SAAS,aAAa,CAAC,QAAQ,WAAW,CAAG,EAAO,IAAI,CAAC,QAAQ,CAEzE,CAAE,MAAO,EAAO,CACZ,QAAQ,KAAK,CAAC,qCAAsC,GACpD,MAAM,wDACV,CACJ,CAAA,IAEA,EAAM","sources":["<anon>","src/assets/js/mpk.js"],"sourcesContent":["init();\nasync function init() {\n    let BASEAPI = \"https://8080-rplsaci-pemiluapi-jfvwph8s12t.ws-us116.gitpod.io\";\n    const data = JSON.parse(localStorage.getItem(\"loginObject\"));\n    console.log(data);\n    if (!data || !localStorage.getItem(\"loginObject\")) {\n        alert(\"NO USERDATA, REDIRECTING TO LOGIN\");\n        document.location.href = \"./index.html\";\n    }\n    try {\n        const response = await fetch(BASEAPI + \"/api/user/login\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                username: data.username,\n                password: data.password\n            })\n        });\n        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n        const result = await response.json(); // Parse the response as JSON\n        console.log(result);\n        if (result.error) ;\n        else {\n            if (result.SudahMemilih || result.user.WaktuPemilihan) {\n                alert(\"Kamu sudah Memilih\");\n                document.location.href = \"./sudahMemilih.html\";\n            }\n            // Handle successful login\n            document.querySelector(\"#usn\").textContent = result.user.username;\n        }\n    } catch (error) {\n        console.error(\"An error occurred while logging in\", error);\n        alert(\"An error occurred while logging in. Please try again.\");\n    }\n}\nkirim(0);\nasync function kirim(i) {\n    if (i !== 1) return;\n    if (!document.querySelector(\"input[name='kandidat']:checked\")) alert(\"Pilihlah 1 kandidat\");\n    const selectedKandidat = document.querySelector(\"input[name='kandidat']:checked\").value;\n    alert(`Kandidat yang dipilih: ${selectedKandidat}`);\n    localStorage.setItem(\"Pilihan\", JSON.stringify({\n        \"MPK\": selectedKandidat\n    }));\n    // const response = await fetch(\"https://redesigned-lamp-wx969x4q6g6f599x-8080.app.github.dev/api/user/login\", {\n    //     method: \"POST\", // HTTP method\n    //     headers: {\n    //         \"Content-Type\": \"application/json\", // Specify the content type\n    //     },\n    //     body: JSON.stringify({ username:data.username, password:data.password }), // Convert the data to a JSON string\n    // });\n    document.location.href = \"./osis.html\";\n}\n\n//# sourceMappingURL=mpk.9da2735c.js.map\n","init()\n\nasync function init(){\n    let BASEAPI = \"https://8080-rplsaci-pemiluapi-jfvwph8s12t.ws-us116.gitpod.io\"\n    const data = JSON.parse(localStorage.getItem(\"loginObject\"))\n    console.log(data)\n\n    if(!data || !localStorage.getItem(\"loginObject\")) {\n        alert(\"NO USERDATA, REDIRECTING TO LOGIN\")\n        document.location.href = \"./index.html\"\n    }\n    try {\n        const response = await fetch(BASEAPI + \"/api/user/login\", {\n            method: \"POST\", // HTTP method\n            headers: {\n                \"Content-Type\": \"application/json\", // Specify the content type\n            },\n            body: JSON.stringify({ username:data.username, password:data.password }), // Convert the data to a JSON string\n        });\n\n        if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n\n        const result = await response.json(); // Parse the response as JSON\n        console.log(result)\n        \n        if (result.error) {\n        } else {\n            if(result.SudahMemilih || result.user.WaktuPemilihan) {\n                alert(\"Kamu sudah Memilih\")\n                document.location.href = \"./sudahMemilih.html\"\n            }\n            // Handle successful login\n            document.querySelector(\"#usn\").textContent = result.user.username\n        }\n    } catch (error) {\n        console.error(\"An error occurred while logging in\", error);\n        alert(\"An error occurred while logging in. Please try again.\");\n    }\n}\n\nkirim(0)\nasync function kirim(i) {\n    if(i !== 1) return\n    if(!document.querySelector(\"input[name='kandidat']:checked\")) alert(\"Pilihlah 1 kandidat\")\n    const selectedKandidat = document.querySelector(\"input[name='kandidat']:checked\").value;\n    alert(`Kandidat yang dipilih: ${selectedKandidat}`);\n    localStorage.setItem(\"Pilihan\", JSON.stringify({\"MPK\":selectedKandidat}))\n\n    // const response = await fetch(\"https://redesigned-lamp-wx969x4q6g6f599x-8080.app.github.dev/api/user/login\", {\n    //     method: \"POST\", // HTTP method\n    //     headers: {\n    //         \"Content-Type\": \"application/json\", // Specify the content type\n    //     },\n    //     body: JSON.stringify({ username:data.username, password:data.password }), // Convert the data to a JSON string\n    // });\n    \n    document.location.href = \"./osis.html\"\n}"],"names":["kirim","i","document","querySelector","alert","selectedKandidat","value","localStorage","setItem","JSON","stringify","location","href","init","data","parse","getItem","console","log","response","fetch","BASEAPI","method","headers","body","username","password","ok","Error","status","result","json","error","SudahMemilih","user","WaktuPemilihan","textContent"],"version":3,"file":"mpk.9da2735c.js.map"}