{"mappings":"ACCA,IAEA,eAAe,IAEX,IAAM,EAAO,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,gBAI7C,GAHA,QAAQ,GAAG,CAAC,GAGR,CAAC,GAAQ,CAAC,aAAa,OAAO,CAAC,eAAgB,CAC/C,MAAM,qCACN,SAAS,QAAQ,CAAC,IAAI,CAAG,eACzB,MACJ,CAEA,GAAI,CAEA,IAAM,EAAW,MAAM,MAAM,8EAA+E,CACxG,OAAQ,OACR,QAAS,CACL,eAAgB,kBACpB,EACA,KAAM,KAAK,SAAS,CAAC,CAAE,SAAU,EAAK,QAAQ,CAAE,SAAU,EAAK,QAAQ,AAAC,EAC5E,GAEA,GAAI,CAAC,EAAS,EAAE,CACZ,MAAM,AAAI,MAAM,CAAC,oBAAoB,EAAE,EAAS,MAAM,CAAC,CAAC,EAG5D,IAAM,EAAS,MAAM,EAAS,IAAI,EAE9B,CAAA,EAAO,KAAK,EAEZ,QAAQ,KAAK,CAAC,iBAAkB,EAAO,KAAK,EAC5C,MAAM,oCAGN,SAAS,aAAa,CAAC,QAAQ,WAAW,CAAG,EAAO,IAAI,CAAC,QAAQ,AAEzE,CAAE,MAAO,EAAO,CACZ,QAAQ,KAAK,CAAC,qCAAsC,GACpD,MAAM,wDACV,CACJ","sources":["<anon>","src/assets/js/osis.js"],"sourcesContent":["// Inisialisasi fungsi\ninit();\nasync function init() {\n    // Ambil data login dari localStorage\n    const data = JSON.parse(localStorage.getItem(\"loginObject\"));\n    console.log(data);\n    // Cek apakah data login tersedia\n    if (!data || !localStorage.getItem(\"loginObject\")) {\n        alert(\"NO USERDATA, REDIRECTING TO LOGIN\");\n        document.location.href = \"./index.html\";\n        return; // Hentikan eksekusi lebih lanjut jika data tidak ada\n    }\n    try {\n        // Lakukan permintaan POST untuk memverifikasi pengguna\n        const response = await fetch(\"https://redesigned-lamp-wx969x4q6g6f599x-8080.app.github.dev/api/user/login\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                username: data.username,\n                password: data.password\n            })\n        });\n        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n        const result = await response.json();\n        if (result.error) {\n            // Tangani kesalahan jika ada\n            console.error(\"Login failed: \", result.error);\n            alert(\"Login failed. Please try again.\");\n        } else // Tampilkan nama pengguna jika login berhasil\n        document.querySelector(\"#usn\").textContent = result.user.username;\n    } catch (error) {\n        console.error(\"An error occurred while logging in\", error);\n        alert(\"An error occurred while logging in. Please try again.\");\n    }\n}\n// Fungsi untuk menangani pemilihan kandidat\nasync function kirim() {\n    // Cek apakah ada kandidat yang dipilih\n    const selectedKandidat = document.querySelector(\"input[name='osis']:checked\");\n    if (!selectedKandidat) {\n        alert(\"Pilihlah 1 kandidat\");\n        return; // Hentikan eksekusi lebih lanjut jika tidak ada kandidat yang dipilih\n    }\n    const kandidatValue = selectedKandidat.value;\n    alert(`Kandidat yang dipilih: ${kandidatValue}`);\n    try {\n        let pilihan = JSON.parse(localStorage.getItem(\"Pilihan\"));\n        if (!pilihan) {\n            alert(\"Kamu harus pilih MPK Dahulu\");\n            document.location.href = \"./mpk.html\";\n        }\n        localStorage.setItem(\"Pilihan\", {\n            \"MPK\": pilihan.mpk,\n            \"OSIS\": kandidatValue\n        });\n        // Kirim data pemilihan ke server\n        // const response = await fetch(\"https://redesigned-lamp-wx969x4q6g6f599x-8080.app.github.dev/api/vote\", {\n        //     method: \"POST\",\n        //     headers: {\n        //         \"Content-Type\": \"application/json\",\n        //     },\n        //     body: JSON.stringify({ username: data.username, password: data.password, kandidat: kandidatValue }),\n        // });\n        // if (!response.ok) {\n        //     throw new Error(`HTTP error! status: ${response.status}`);\n        // }\n        // const result = await response.json();\n        // if (result.error) {\n        // console.error(\"Voting failed: \", result.error);\n        // alert(\"Voting failed. Please try again.\");\n        // } else {\n        // Tindakan setelah pemilihan berhasil, misalnya mengalihkan halaman\n        // alert(\"Vote submitted successfully!\");\n        document.location.href = \"./success.html\"; // Ganti dengan halaman yang sesuai\n    // }\n    } catch (error) {\n        console.error(\"An error occurred while voting\", error);\n        alert(\"An error occurred while voting. Please try again.\");\n    }\n}\n\n//# sourceMappingURL=osis.0edbfc39.js.map\n","// Inisialisasi fungsi\ninit();\n\nasync function init() {\n    // Ambil data login dari localStorage\n    const data = JSON.parse(localStorage.getItem(\"loginObject\"));\n    console.log(data);\n\n    // Cek apakah data login tersedia\n    if (!data || !localStorage.getItem(\"loginObject\")) {\n        alert(\"NO USERDATA, REDIRECTING TO LOGIN\");\n        document.location.href = \"./index.html\";\n        return; // Hentikan eksekusi lebih lanjut jika data tidak ada\n    }\n\n    try {\n        // Lakukan permintaan POST untuk memverifikasi pengguna\n        const response = await fetch(\"https://redesigned-lamp-wx969x4q6g6f599x-8080.app.github.dev/api/user/login\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({ username: data.username, password: data.password }),\n        });\n\n        if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n\n        const result = await response.json();\n\n        if (result.error) {\n            // Tangani kesalahan jika ada\n            console.error(\"Login failed: \", result.error);\n            alert(\"Login failed. Please try again.\");\n        } else {\n            // Tampilkan nama pengguna jika login berhasil\n            document.querySelector(\"#usn\").textContent = result.user.username;\n        }\n    } catch (error) {\n        console.error(\"An error occurred while logging in\", error);\n        alert(\"An error occurred while logging in. Please try again.\");\n    }\n}\n\n// Fungsi untuk menangani pemilihan kandidat\nasync function kirim() {\n    // Cek apakah ada kandidat yang dipilih\n    const selectedKandidat = document.querySelector(\"input[name='osis']:checked\");\n    \n    if (!selectedKandidat) {\n        alert(\"Pilihlah 1 kandidat\");\n        return; // Hentikan eksekusi lebih lanjut jika tidak ada kandidat yang dipilih\n    }\n\n    const kandidatValue = selectedKandidat.value;\n    alert(`Kandidat yang dipilih: ${kandidatValue}`);\n\n    try {\n        let pilihan = JSON.parse(localStorage.getItem(\"Pilihan\"))\n\n        if(!pilihan) {\n            alert(\"Kamu harus pilih MPK Dahulu\")\n            document.location.href = \"./mpk.html\"\n        }\n\n        localStorage.setItem(\"Pilihan\",{\"MPK\":pilihan.mpk,\"OSIS\":kandidatValue})\n\n        // Kirim data pemilihan ke server\n        // const response = await fetch(\"https://redesigned-lamp-wx969x4q6g6f599x-8080.app.github.dev/api/vote\", {\n        //     method: \"POST\",\n        //     headers: {\n        //         \"Content-Type\": \"application/json\",\n        //     },\n        //     body: JSON.stringify({ username: data.username, password: data.password, kandidat: kandidatValue }),\n        // });\n\n        // if (!response.ok) {\n        //     throw new Error(`HTTP error! status: ${response.status}`);\n        // }\n\n        // const result = await response.json();\n\n        // if (result.error) {\n            // console.error(\"Voting failed: \", result.error);\n            // alert(\"Voting failed. Please try again.\");\n        // } else {\n            // Tindakan setelah pemilihan berhasil, misalnya mengalihkan halaman\n            // alert(\"Vote submitted successfully!\");\n            document.location.href = \"./success.html\"; // Ganti dengan halaman yang sesuai\n        // }\n    } catch (error) {\n        console.error(\"An error occurred while voting\", error);\n        alert(\"An error occurred while voting. Please try again.\");\n    }\n}\n"],"names":["init","data","JSON","parse","localStorage","getItem","console","log","alert","document","location","href","response","fetch","method","headers","body","stringify","username","password","ok","Error","status","result","json","error","querySelector","textContent","user"],"version":3,"file":"osis.0edbfc39.js.map"}